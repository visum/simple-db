{"version":3,"sources":["../../src/postgresql/SchemaValidator.js"],"names":["SchemaValidator","constructor","schema","validator","jsonschema","Validator","validate","validationResults","tableJsonSchema","errors","length","error","Error","validationErrors"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,MAAMA,eAAN,CAAsB;AACjCC,EAAAA,WAAW,CAACC,MAAD,EAAQ;AACf,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,SAAL,GAAiB,IAAIC,oBAAWC,SAAf,EAAjB;AACH;;AAED,SAAOC,QAAP,CAAgBJ,MAAhB,EAAuB;AACnB,UAAMC,SAAS,GAAG,IAAIH,eAAJ,CAAoBE,MAApB,CAAlB;AACA,WAAOC,SAAS,CAACG,QAAV,EAAP;AACH;;AAEDA,EAAAA,QAAQ,GAAE;AACN,UAAMC,iBAAiB,GAAG,KAAKJ,SAAL,CAAeG,QAAf,CAAwB,KAAKJ,MAA7B,EAAqCM,wBAArC,CAA1B;;AAEA,QAAID,iBAAiB,CAACE,MAAlB,CAAyBC,MAAzB,GAAkC,CAAtC,EAAyC;AACrC,YAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,cAAV,CAAd;AACAD,MAAAA,KAAK,CAACE,gBAAN,GAAyBN,iBAAiB,CAACE,MAA3C;AACA,YAAME,KAAN;AACH;AACJ;;AAnBgC","sourcesContent":["import jsonschema from \"jsonschema\";\nimport tableJsonSchema from \"./tableJsonSchema\";\n\nexport default class SchemaValidator {\n    constructor(schema){\n        this.schema = schema;\n        this.validator = new jsonschema.Validator();\n    }\n\n    static validate(schema){\n        const validator = new SchemaValidator(schema);\n        return validator.validate();\n    }\n\n    validate(){\n        const validationResults = this.validator.validate(this.schema, tableJsonSchema);\n\n        if (validationResults.errors.length > 0) {\n            const error = new Error(\"Schema Error\");\n            error.validationErrors = validationResults.errors;\n            throw error;\n        }\n    }\n}"],"file":"SchemaValidator.js"}
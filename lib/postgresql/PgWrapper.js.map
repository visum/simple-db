{"version":3,"sources":["../../src/postgresql/PgWrapper.js"],"names":["PgWrapper","constructor","pool","runAsync","sql","values","client","connect","result","query","error","release","allAsync","res","rows"],"mappings":";;;;;;;AAAe,MAAMA,SAAN,CAAgB;AAC3BC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,SAAKA,IAAL,GAAYA,IAAZ;AACH;;AAED,QAAMC,QAAN,CAAeC,GAAf,EAAoBC,MAAM,GAAG,EAA7B,EAAiC;AAC7B,UAAMC,MAAM,GAAG,MAAM,KAAKJ,IAAL,CAAUK,OAAV,EAArB;;AACA,QAAI;AACA,YAAMC,MAAM,GAAG,MAAMF,MAAM,CAACG,KAAP,CAAaL,GAAb,EAAkBC,MAAlB,CAArB;AACA,aAAOG,MAAP;AACH,KAHD,CAGE,OAAOE,KAAP,EAAc;AACZ,YAAMA,KAAN;AACH,KALD,SAKU;AACNJ,MAAAA,MAAM,CAACK,OAAP;AACH;AACJ;;AAED,QAAMC,QAAN,CAAeR,GAAf,EAAoBC,MAAM,GAAG,EAA7B,EAAiC;AAC7B,UAAMC,MAAM,GAAG,MAAM,KAAKJ,IAAL,CAAUK,OAAV,EAArB;;AACA,QAAI;AACA,YAAMM,GAAG,GAAG,MAAMP,MAAM,CAACG,KAAP,CAAaL,GAAb,EAAkBC,MAAlB,CAAlB;AACA,aAAOQ,GAAG,CAACC,IAAX;AACH,KAHD,CAGE,OAAOJ,KAAP,EAAc;AACZ,YAAMA,KAAN;AACH,KALD,SAKU;AACNJ,MAAAA,MAAM,CAACK,OAAP;AACH;AACJ;;AA3B0B","sourcesContent":["export default class PgWrapper {\n    constructor(pool) {\n        this.pool = pool;\n    }\n\n    async runAsync(sql, values = []) {\n        const client = await this.pool.connect();\n        try {\n            const result = await client.query(sql, values);\n            return result;\n        } catch (error) {\n            throw error;\n        } finally {\n            client.release();\n        }\n    }\n\n    async allAsync(sql, values = []) {\n        const client = await this.pool.connect();\n        try {\n            const res = await client.query(sql, values);\n            return res.rows;\n        } catch (error) {\n            throw error;\n        } finally {\n            client.release();\n        }\n    }\n\n}   "],"file":"PgWrapper.js"}